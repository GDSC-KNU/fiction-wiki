(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{1659:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fictions",function(){return n(253)}])},253:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return u}});var t=n(8473),i=n(8598),l=n(6040),a=n(2684),s=n(433),o=n(4376),d=n(344),c=n(4161),u=!0;r.default=function(e){var r,n,u,h,x,m,p,v,g=e.keywords,f=e.categories,j=e.nationalities,b=(0,t.Z)((0,d.FV)(c.nY),2),y=b[0],B=b[1],w=(0,o.useRouter)(),N="/api/fictions?".concat("keywords="+((null===(r=w.query)||void 0===r||null===(n=r.keywords)||void 0===n?void 0:n.toString().split(","))||"")).concat("&nationalities="+((null===(u=w.query)||void 0===u||null===(h=u.nationalities)||void 0===h?void 0:h.toString().split(","))||"")).concat("&genres="+((null===(x=w.query)||void 0===x||null===(m=x.genres)||void 0===m?void 0:m.toString().split(","))||"")).concat("&sorting="+((null===(p=w.query)||void 0===p?void 0:p.sorting)||"")).concat("&page="+y),k=(0,l.ZP)(N),S=k.data;k.error;(0,a.useEffect)((function(){var e,r,n,t,i,l,a;w.query.params&&(N="/api/fictions?".concat("keywords="+((null===(r=null===w||void 0===w||null===(e=w.query)||void 0===e?void 0:e.params[4])||void 0===r?void 0:r.toString().split(","))||"")).concat("&nationalities="+((null===(t=null===w||void 0===w||null===(n=w.query)||void 0===n?void 0:n.params[0])||void 0===t?void 0:t.toString().split(","))||"")).concat("&genres="+((null===(l=null===w||void 0===w||null===(i=w.query)||void 0===i?void 0:i.params[1])||void 0===l?void 0:l.toString().split(","))||"")).concat("&sorting="+((null===w||void 0===w||null===(a=w.query)||void 0===a?void 0:a.params[2])||"")).concat("&page="+y));w.push("/fictions/".concat(Array.from(M).join(",")||"all","/").concat(Array.from(P).join(",")||"all","/").concat(Array.from(F||"\ucd1d\uc810").join(",")||"all","/").concat(y,"/").concat(Array.from(E).join(",")||"all"))}),[y]);var _=(0,a.useState)(!1),q=_[0],A=_[1],C=(0,a.useState)(new Set),E=C[0],T=C[1],O=(0,a.useState)(new Set),P=O[0],Z=O[1],z=(0,a.useState)(new Set),M=z[0],R=z[1],X=(0,a.useState)(new Set),F=X[0],G=X[1],V=function(e){var r=e.currentTarget;A(!q),Y(r.parentNode,r.value,r.checked,r.id,r)},Y=function(e,r,n,t,i){n&&"keyword"===t?(E.add(r),T(E)):!n&&E.has(r)&&"keyword"===t&&(E.delete(r),T(E)),n&&"nationality"===t?(M.add(r),R(M)):!n&&M.has(r)&&"nationality"===t&&(M.delete(r),R(M)),n&&"genre"===t?(P.add(r),Z(P)):!n&&P.has(r)&&"genre"===t&&(P.delete(r),Z(P)),n&&"sorting"===t?(F.clear(),F.add(r),G(F)):!n&&F.has(r)&&"sorting"===t&&(F.delete(r),G(F))},D=(0,a.useRef)(!0);return(0,i.jsxs)("div",{className:" mt-10 max-w-[1300px]",children:[(0,i.jsx)("div",{className:" w-full justify-center",children:(0,i.jsxs)("form",{className:" ",children:[(0,i.jsx)("div",{className:" bg-white px-2 pt-2 pb-1 border-[0.5px] border-[#BBBBBB] rounded-md blue ",children:(0,i.jsxs)("table",{className:" leading-7",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{}),(0,i.jsx)("th",{}),(0,i.jsx)("th",{})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\uad6d\uac00"}),(0,i.jsx)("td",{className:" leading-[1.8rem] flex flex-wrap",children:j.map((function(e,r){return(0,i.jsxs)("label",{className:" cursor-pointer flex",children:[(0,i.jsx)("input",{onClick:function(e){return V(e)},type:"checkbox",className:" hidden peer",id:"nationality",value:e}),(0,i.jsx)("div",{className:" peer-checked:bg-blue-600 peer-checked:text-white hover:border-gray-400 hover:bg-gray-200 p-[0.12rem] mt-1 text-sm text-center ring-gray-500 mx-[0.35rem] rounded-md border-[#BBBBBB] border-[0.5px]",children:e})]},r)}))})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\uc7a5\ub974"}),(0,i.jsx)("td",{className:" leading-[1.8rem] flex flex-wrap",children:f.map((function(e,r){return(0,i.jsxs)("label",{className:" cursor-pointer flex",children:[(0,i.jsx)("input",{onClick:function(e){return V(e)},type:"checkbox",id:"genre",className:" hidden peer",value:e.name}),(0,i.jsx)("div",{className:" peer-checked:bg-blue-600 peer-checked:text-white hover:border-gray-400 hover:bg-gray-200 p-[0.12rem] mt-1 text-sm text-center ring-gray-500 mx-[0.35rem] rounded-md border-[#BBBBBB] border-[0.5px] ",children:e.name})]},r)}))})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\uc815\ub82c"}),(0,i.jsx)("td",{className:" leading-[1.8rem] flex flex-wrap",children:["\ucd1d\uc810","\uce90\ub9ad\ud130\uc131","\uc624\ub9ac\uc9c0\ub110\ub9ac\ud2f0","\uc2a4\ud1a0\ub9ac","\uc791\ud488\uc131","\ud54d\uc9c4\uc131","\ud544\ub825","\ud654\uc218"].map((function(e,r){return(0,i.jsxs)("label",{className:" bg-white cursor-pointer flex ",children:[(0,i.jsx)("input",{onClick:function(e){return V(e)},type:"radio",className:" hidden peer",id:"sorting",value:e,name:"sorting"}),(0,i.jsx)("div",{className:" peer-checked:bg-blue-600 peer-checked:text-white hover:border-gray-400 hover:bg-gray-200 p-[0.12rem] mt-1 text-sm text-center ring-gray-500 mx-[0.35rem] rounded-md border-[#BBBBBB] border-[0.5px] ",children:e})]},r)}))})]})]})]})}),(0,i.jsxs)("details",{className:" text-center",children:[(0,i.jsx)("div",{className:" mt-5 bg-white px-2 pt-2 pb-1 border-[0.5px] border-[#BBBBBB] rounded-md blue ",children:(0,i.jsxs)("table",{className:" leading-7",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{}),(0,i.jsx)("th",{}),(0,i.jsx)("th",{})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:" min-w-[50px]",children:"\ud0a4\uc6cc\ub4dc"}),(0,i.jsx)("td",{className:" leading-[1.8rem] flex flex-wrap",children:g.filter((function(e){return!0!==(null===e||void 0===e?void 0:e.isOfCons)})).map((function(e){return(0,i.jsxs)("label",{className:" flex ",children:[(0,i.jsx)("input",{onClick:function(e){return V(e)},type:"checkbox",id:"keyword",className:" hidden peer",value:null===e||void 0===e?void 0:e.name}),(0,i.jsxs)("div",{className:" cursor-pointer whitespace-nowrap bg-gray-200 text-[#666676] peer-checked:bg-blue-600 peer-checked:text-white hover:border-gray-400 hover:bg-gray-200 mt-1 text-sm text-center mx-[0.35rem] rounded-3xl border-[#BBBBBB] p-1 ",children:["#",null===e||void 0===e?void 0:e.name]})]},null===e||void 0===e?void 0:e.id)}))})]})})]})}),(0,i.jsx)("summary",{style:{listStyle:"none"},className:" mt-4 w-fit",children:(0,i.jsxs)("span",{className:" hover:cursor-pointer hover:bg-gray-200 border-[0.5px] p-1 border-[#BBBBBB] rounded-md flex items-center",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-circle-fill",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})," "]}),"\xa0",(0,i.jsx)("span",{children:" \ud0a4\uc6cc\ub4dc \uac80\uc0c9"})]})})]})]})}),(0,i.jsx)("div",{className:" w-full flex justify-center",children:(0,i.jsx)("button",{onClick:function(){D.current?(D.current=!D.current,setTimeout((function(){D.current=!D.current}),5e3),B(1),w.push("/fictions/".concat(Array.from(M).join(",")||"all","/").concat(Array.from(P).join(",")||"all","/").concat(Array.from(F).join(",")||"\ucd1d\uc810","/").concat(y,"/").concat(Array.from(E).join(",")||"all"))):alert("\uc0c8\ub85c\uace0\uce68\uc740 5\ucd08\ub9c8\ub2e4 \ud55c\ubc88\uc529 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},className:" hover:border-gray-400 hover:bg-gray-200 bg-white border-[0.5px] border-[#BBBBBB] rounded-md mt-2 p-1 w-2/3",children:"\uc0c8\ub85c\uace0\uce68"})}),(0,i.jsx)(s.Z,{data:S,type:"fictions_list",count:null===S||void 0===S||null===(v=S.fictions)||void 0===v?void 0:v.length})]})}}},function(e){e.O(0,[964,433,774,888,179],(function(){return r=1659,e(e.s=r);var r}));var r=e.O();_N_E=r}]);