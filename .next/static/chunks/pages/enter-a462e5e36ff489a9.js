(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{4376:function(e,r,n){e.exports=n(3053)},3513:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enter",function(){return n(7294)}])},6625:function(e,r,n){"use strict";n.d(r,{Z:function(){return i}});var t=n(1904),s=n(7559),o=n(5925),a=n(8598),l=n(5627);function i(e){var r=e.large,n=void 0!==r&&r,i=(e.onClick,e.text),d=(0,o.Z)(e,["large","onClick","text"]);return(0,a.jsx)("button",(0,s.Z)((0,t.Z)({},d),{className:(0,l.y)("w-full bg-white  hover:border-gray-300 text-black  px-4 border-[0.5px] border-[#BBBBBB] border-transparent rounded-md shadow-sm font-medium focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:outline-none",n?"py-3 text-base":"py-2 text-sm "),children:i}))}},2217:function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});var t=n(1904),s=n(7559),o=n(8598);function a(e){var r=e.label,n=e.name,a=e.kind,l=void 0===a?"text":a,i=e.register,d=e.type,u=e.required;return(0,o.jsxs)("div",{className:" mb-2",children:["text"===l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:n,children:r}),(0,o.jsx)("div",{className:"rounded-md re lative flex items-center shadow-sm",children:(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"}))})]}):null,"search"===l?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:" my-12 mb-8 rounded-3xl re lative flex items-center",children:[(0,o.jsx)("input",(0,s.Z)((0,t.Z)({placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",id:n,required:u},i),{type:d,className:"rounded-3xl appearance-none w-full px-3 py-2 border border-gray-300 placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"})),(0,o.jsxs)("svg",{className:" relative right-9 ",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:[" ",(0,o.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z",fill:"black"})," "]})]})}):null,"comment"===l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:n}),(0,o.jsx)("div",{className:"rounded-md re lative flex items-center shadow-sm",children:(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,placeholder:"\ud55c\uc904\ud3c9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694. \uacfc\ub3c4\ud55c \ube44\ubc29, \uc695\uc124, \ub3c4\ubc30\ub294 \ucc28\ub2e8\ub429\ub2c8\ub2e4.",className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"}))})]}):null,"text_detail"===l?(0,o.jsx)("div",{className:"rounded-md relative flex items-center shadow-sm",children:(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"}))}):null,"date"===l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:n,children:r}),(0,o.jsx)("div",{className:"rounded-md re lative flex items-center shadow-sm",children:(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"}))})]}):null,"status"===l?(0,o.jsxs)("div",{className:"rounded-md relative flex items-center",children:[(0,o.jsx)("span",{className:" w-2/4 pb-1 text-xs text-center",children:r}),(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,placeholder:r},i),{type:d,min:"0",max:"5",className:"appearance-none w-2/4 px-3 py-1 border text-xs border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"}))]}):null,"price"===l?(0,o.jsxs)("div",{className:"rounded-md relative flex items-center shadow-sm",children:[(0,o.jsx)("div",{className:"absolute left-0 pointer-events-none pl-3 flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-gray-500 text-sm",children:"$"})}),(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,className:"appearance-none pl-7 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-400 focus:border-blue-400"})),(0,o.jsx)("div",{className:"absolute right-0 pointer-events-none pr-3 flex items-center",children:(0,o.jsx)("span",{className:"text-gray-500",children:"KRW"})})]}):null,"phone"===l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:n,children:r}),(0,o.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,o.jsx)("span",{className:"flex items-center justify-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 select-none text-sm",children:"+82"}),(0,o.jsx)("input",(0,s.Z)((0,t.Z)({id:n,required:u},i),{type:d,className:"appearance-none w-full px-3 py-2 border border-gray-300 rounded-md rounded-l-none shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500"}))]})]}):null]})}},548:function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});var t=n(1904),s=n(7559),o=n(2684);function a(e){var r=(0,o.useState)({loading:!1,data:void 0,error:void 0}),n=r[0],a=r[1];return[function(r,n){a((function(e){return(0,s.Z)((0,t.Z)({},e),{loading:!0})})),fetch(e,{method:(null===n||void 0===n?void 0:n.toString())||"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json().catch((function(){}))})).then((function(e){return a((function(r){return(0,s.Z)((0,t.Z)({},r),{data:e})}))})).catch((function(e){return a((function(r){return(0,s.Z)((0,t.Z)({},r),{error:e})}))})).finally((function(){return a((function(e){return(0,s.Z)((0,t.Z)({},e),{loading:!1})}))}))},(0,t.Z)({},n)]}},5627:function(e,r,n){"use strict";function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.join(" ")}n.d(r,{y:function(){return t}})},7294:function(e,r,n){"use strict";n.r(r);var t=n(8473),s=n(8598),o=n(2684),a=n(5367),l=n(6625),i=n(2217),d=n(548),u=n(5627),c=n(4376),m=n(5385);r.default=function(){var e=(0,m.useSession)().data,r=(0,t.Z)((0,d.Z)("/api/users/enter"),2),n=r[0],x=r[1],f=x.loading,h=x.data,b=(x.error,(0,t.Z)((0,d.Z)("/api/users/confirm"),2)),p=b[0],g=b[1],y=g.loading,j=g.data,v=(0,a.cI)(),N=v.register,w=v.handleSubmit,Z=v.reset,k=(0,a.cI)(),S=k.register,C=k.handleSubmit,q=(0,o.useState)("email"),_=q[0],A=q[1],E=(0,c.useRouter)();return(0,o.useEffect)((function(){(null===j||void 0===j?void 0:j.ok)&&E.push("/")}),[j,E]),(0,s.jsxs)("div",{className:"mt-16 px-4",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold text-center",children:"Enter to FDBS"}),(0,s.jsxs)("div",{className:"mt-12",children:[(null===h||void 0===h?void 0:h.ok)?(0,s.jsxs)("form",{onSubmit:C((function(e){y||p(e,"POST")})),className:"flex flex-col mt-8 space-y-4",children:[(0,s.jsx)(i.Z,{register:S("token",{required:!0}),name:"token",label:"Confirm Token",type:"number",required:!0}),(0,s.jsx)(l.Z,{text:y?"Loading":"Confirm Token"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h5",{className:"text-sm text-gray-500 font-medium",children:"Enter using:"}),(0,s.jsxs)("div",{className:"grid border-b w-full mt-8 grid-cols-2 ",children:[(0,s.jsx)("button",{className:(0,u.y)("pb-4 font-medium text-sm border-b-2","email"===_?" border-blue-400 text-blue-300":"border-transparent hover:text-gray-400 text-gray-500"),onClick:function(){Z(),A("email")},children:"Email"}),(0,s.jsx)("button",{className:(0,u.y)("pb-4 font-medium text-sm border-b-2","phone"===_?" border-blue-400 text-blue-300":"border-transparent hover:text-gray-400 text-gray-500"),onClick:function(){Z(),A("phone")},children:"Phone"})]})]}),(0,s.jsxs)("form",{onSubmit:w((function(e){f||n(e,"POST")})),className:"flex flex-col mt-8 space-y-4",children:["email"===_?(0,s.jsx)(i.Z,{register:N("email",{required:!0}),name:"email",label:"Email address",type:"email",required:!0}):null,"phone"===_?(0,s.jsx)(i.Z,{register:N("phone"),name:"phone",label:"Phone number",type:"number",kind:"phone",required:!0}):null,"email"===_?(0,s.jsx)(l.Z,{text:f?"Loading":"Get login link"}):null,"phone"===_?(0,s.jsx)(l.Z,{text:f?"Loading":"Get one-time password"}):null]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute w-full border-t border-gray-300"}),(0,s.jsx)("div",{className:"relative -top-3 text-center ",children:(0,s.jsx)("span",{className:"bg-white px-2 text-sm text-gray-500",children:"Or enter with"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 mt-2 gap-3",children:[(0,s.jsx)("button",{className:"flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:(0,s.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})}),e?(0,s.jsx)("button",{className:" flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:function(){return(0,m.signOut)()},children:"Google Sign out"}):(0,s.jsx)("button",{className:" flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:function(){return(0,m.signIn)("google")},children:"Google Sign in"})]})]})]})]})}},1135:function(e,r,n){"use strict";function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}n.d(r,{Z:function(){return t}})},9471:function(e,r,n){"use strict";function t(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(r,{Z:function(){return t}})},8473:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var t=n(9471);var s=n(8712);function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||(0,t.Z)(e,r)||(0,s.Z)(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8712:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var t=n(1135);function s(e,r){if(e){if("string"===typeof e)return(0,t.Z)(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,t.Z)(e,r):void 0}}}},function(e){e.O(0,[369,774,888,179],(function(){return r=3513,e(e.s=r);var r}));var r=e.O();_N_E=r}]);